# SQL Injection CTF Writeup

## Challenge Overview
This was a medium-level Web Exploitation challenge focused on SQL Injection vulnerabilities. The goal was to bypass authentication and then exploit a second vulnerability to retrieve the flag from the database.

## Step 1: Authentication Bypass

The first part involved bypassing a login form using SQL injection.

**Payload used:**
```
Username: anything
Password: ' or 1=1 --
```

**Explanation:**
- The `'` closes the string literal in the SQL query
- `or 1=1` makes the condition always true
- `--` comments out the rest of the query, preventing syntax errors

This classic SQL injection payload allowed us to bypass authentication by making the WHERE clause always evaluate to true.

## Step 2: Discovering the Second Vulnerability

After successful login, there was a search bar for cities that was also vulnerable to SQL injection.

## Step 3: Database Enumeration

Using the hint that the database was 'SQLiLite', we researched SQLite-specific queries.

**Payload to enumerate database structure:**
```
' UNION SELECT name, sql, null from sqlite_master;--
```

**Explanation:**
- `UNION SELECT` combines results with the original query
- `sqlite_master` is a special table in SQLite that contains database schema information
- We selected the `name` and `sql` columns to see table structures
- Added `null` to match the number of columns in the original query

This revealed the existence of a table called `more_table` which contained the flag.

## Step 4: Retrieving the Flag

**Final payload:**
```
' UNION SELECT flag, null, null from more_table;--
```

**Explanation:**
- Selected the `flag` column from the `more_table` table
- Used `null` placeholders to match the expected number of columns
- The `--` commented out the rest of the original query



![image](https://github.com/user-attachments/assets/b09aa94c-268f-49b0-9852-3cfd7b2dfd66)
